<!DOCTYPE html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        var curec = 1;
        var minSongID = 0;
        var maxSongID = 0;
        function getSong(curec) {
            function loadJSON() {
            var data_file = "http://localhost/musicfe/song.php?id=" + curec + "&qtype=1";
            var http_request = new XMLHttpRequest();
            try{
               // Opera 8.0+, Firefox, Chrome, Safari
               http_request = new XMLHttpRequest();
            }catch (e) {
               // Internet Explorer Browsers
               try{
                  http_request = new ActiveXObject("Msxml2.XMLHTTP");
					
               }catch (e) {
				
                  try{
                     http_request = new ActiveXObject("Microsoft.XMLHTTP");
                  }catch (e) {
                     // Something went wrong
                     alert("Your browser broke!");
                     return false;
                  }
					
               }
            }
            http_request.onreadystatechange = function() {
			
               if (http_request.readyState == 4  ) {
                  // Javascript function JSON.parse to parse JSON data
                  var jsonObj = JSON.parse(http_request.responseText);

                  // jsonObj variable now contains the data structure and can
                  // be accessed as jsonObj.name and jsonObj.country.
                  document.getElementById("txtSongID").value = jsonObj.SongID;
                  document.getElementById("txtArtist").innerHTML = jsonObj.Artist;
                  document.getElementById("txtTitle").innerHTML = jsonObj.Title;
                  document.getElementById("txtYear").innerHTML = jsonObj.Artist;
                  document.getElementById("txtPeak").innerHTML = jsonObj.Peak;
               }
            }
			
            http_request.open("GET", data_file, true);
            http_request.send();
         }
        }
        $(document).ready(function(){
            $.ajax({url: "song.php", data: "id=" + curec + "&qtype=2", dataType: "json", method: "post", async: false, success: function(result){
                minSongID = result.minSongID;
                maxSongID = result.maxSongID;
            }});
            curec = minSongID;
            getSong(curec);
            $("#btnNext").click(function(){
                if (curec < maxSongID)
                {
                    retval = getSong(++curec);
                }
            });
            $("#btnPrevious").click(function(){
                if (curec > minSongID)
                {
                    retval = getSong(--curec);
                }
            });
            $("#btnGo").click(function(){
                curec = $("#txtSongID").val();
                if (curec > 0)
                    getSong(curec);
            });
            $("#btnFirst").click(function(){
                curec = minSongID;
                getSong(curec);
            });
            $("#btnLast").click(function(){
                curec = maxSongID;
                getSong(curec);
            });
        });
    </script>
    </head>
<body>

<form>
    SongID: <input type="text" id="txtSongID" style="width: 50px"><button type="button" id="btnGo">Go</button><br><br>
    <span style="padding-left: 13px">Artist:</span><span style="padding-left: 4px"><input type="text" id="txtArtist" style="width: 300px"></span><br><br>
    <span style="padding-left: 20px">Title:</span><span style="padding-left: 4px"><input type="text" id="txtTitle" style="width: 300px"></span><br><br>
    <span style="padding-left: 20px">Year:</span><span style="padding-left: 4px"><input type="text" id="txtYear" style="width: 50px"></span><br><br>
    <span style="padding-left: 20px">Peak:</span><span style="padding-left: 3px"><input type="text" id="txtPeak" style="width: 50px"></span><br><br>
    <button type="button" id="btnFirst">First</button>
    <button type="button" id="btnPrevious">Previous</button>
    <button type="button" id="btnNext">Next</button>
    <button type="button" id="btnLast">Last</button>
</form>

</body>
</html>